<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ウマ娘スキル検索</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div id="app">
    <header class="header">
      <h1>ウマ娘スキル検索</h1>
    </header>

    <main class="main">
      <!-- ローディングインジケータ -->
      <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <p>データベースを読み込み中...</p>
      </div>

      <!-- 検索フォーム -->
      <section id="search-section" class="search-section" style="display: none;">
        <form id="search-form" class="search-form">
          <!-- 検索条件（2列グリッド） -->
          <button type="button" id="advanced-toggle-mobile" class="advanced-toggle-mobile">
            詳細検索条件 <span class="toggle-icon">&#9660;</span>
          </button>
          <div id="advanced-panel" class="advanced-panel">
            <div class="filter-row">
              <!-- 作戦 -->
              <div class="filter-group">
                <label>作戦</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="running-style" value="nige"> 逃げ</label>
                  <label><input type="checkbox" name="running-style" value="senkou"> 先行</label>
                  <label><input type="checkbox" name="running-style" value="sashi"> 差し</label>
                  <label><input type="checkbox" name="running-style" value="oikomi"> 追込</label>
                </div>
              </div>

              <!-- 距離 -->
              <div class="filter-group">
                <label>距離</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="distance" value="short"> 短距離</label>
                  <label><input type="checkbox" name="distance" value="mile"> マイル</label>
                  <label><input type="checkbox" name="distance" value="middle"> 中距離</label>
                  <label><input type="checkbox" name="distance" value="long"> 長距離</label>
                </div>
              </div>
            </div>

            <div class="filter-row">
              <!-- バ場 -->
              <div class="filter-group">
                <label>バ場</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="ground" value="turf"> 芝</label>
                  <label><input type="checkbox" name="ground" value="dirt"> ダート</label>
                </div>
              </div>

              <!-- フェーズ -->
              <div class="filter-group">
                <label>フェーズ</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="phase" value="early"> 序盤</label>
                  <label><input type="checkbox" name="phase" value="mid"> 中盤</label>
                  <label><input type="checkbox" name="phase" value="late"> 終盤</label>
                </div>
              </div>
            </div>

            <div class="filter-row">
              <!-- 効果種別 -->
              <div class="filter-group">
                <label>効果種別</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="effect-type" value="speed"> 速度</label>
                  <label><input type="checkbox" name="effect-type" value="accel"> 加速</label>
                  <label><input type="checkbox" name="effect-type" value="stamina"> 回復</label>
                  <label><input type="checkbox" name="effect-type" value="position"> 位置</label>
                  <label><input type="checkbox" name="effect-type" value="debuff"> デバフ</label>
                </div>
              </div>

              <!-- 順位条件 -->
              <div class="filter-group">
                <label>順位条件（9人立て）</label>
                <div class="checkbox-group order-checkboxes">
                  <label><input type="checkbox" name="order" value="1"> 1位</label>
                  <label><input type="checkbox" name="order" value="2"> 2位</label>
                  <label><input type="checkbox" name="order" value="3"> 3位</label>
                  <label><input type="checkbox" name="order" value="4"> 4位</label>
                  <label><input type="checkbox" name="order" value="5"> 5位</label>
                  <label><input type="checkbox" name="order" value="6"> 6位</label>
                  <label><input type="checkbox" name="order" value="7"> 7位</label>
                  <label><input type="checkbox" name="order" value="8"> 8位</label>
                  <label><input type="checkbox" name="order" value="9"> 9位</label>
                </div>
              </div>
            </div>

            <div class="filter-row">
              <!-- デメリット除外 -->
              <div class="filter-group">
                <label>
                  <input type="checkbox" id="exclude-demerit"> デバフスキルを除外
                </label>
              </div>

              <!-- 種別 -->
              <div class="filter-group">
                <label>種別</label>
                <div class="checkbox-group">
                  <label><input type="checkbox" name="skill-type" value="evolution"> 進化</label>
                  <label><input type="checkbox" name="skill-type" value="unique"> 固有</label>
                  <label><input type="checkbox" name="skill-type" value="inherited_unique"> 継承固有</label>
                  <label><input type="checkbox" name="skill-type" value="gold"> 金</label>
                  <label><input type="checkbox" name="skill-type" value="normal"> 白</label>
                </div>
              </div>
            </div>

            <div class="filter-row">
              <!-- スキル名 -->
              <div class="filter-group">
                <label for="skill-name">スキル名</label>
                <input type="text" id="skill-name" placeholder="スキル名で検索">
              </div>

              <!-- 評価点 -->
              <div class="filter-group evaluation-range">
                <label>評価点</label>
                <div class="range-inputs">
                  <input type="number" id="eval-min" placeholder="最小" min="0">
                  <span>〜</span>
                  <input type="number" id="eval-max" placeholder="最大" min="0">
                </div>
              </div>
            </div>
          </div>

          <div class="search-actions">
            <button type="button" id="clear-btn" class="btn btn-secondary">クリア</button>
            <button type="button" id="save-condition-btn" class="btn btn-primary">条件を保存</button>
          </div>

          <div class="saved-conditions">
            <label for="saved-conditions-select">保存済み条件:</label>
            <select id="saved-conditions-select">
              <option value="">-- 選択してください --</option>
            </select>
            <button type="button" id="delete-condition-btn" class="btn btn-danger btn-small" disabled>削除</button>
          </div>
        </form>
      </section>

      <!-- 検索結果 -->
      <section id="results-section" class="results-section" style="display: none;">
        <div class="results-header">
          <p id="results-count">検索結果: 0件</p>
          <div class="page-size-selector">
            <label for="page-size">表示件数:</label>
            <select id="page-size">
              <option value="10">10件</option>
              <option value="20" selected>20件</option>
              <option value="50">50件</option>
              <option value="100">100件</option>
              <option value="300">300件</option>
            </select>
          </div>
        </div>
        <div id="results-list" class="results-list"></div>
        <div id="pagination" class="pagination"></div>
      </section>
    </main>

    <footer class="footer">
      <p>データ提供: <a href="https://mee1080.github.io/umasim/skill/" target="_blank" rel="noopener">mee1080/umasim</a></p>
    </footer>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
